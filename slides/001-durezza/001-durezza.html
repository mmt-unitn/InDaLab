<!DOCTYPE html>
<html lang="it-IT"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.30">

  <meta name="author" content="Tommaso Stefani">
  <meta name="dcterms.date" content="2025-10-15">
  <title>InDaLab – 1 - Misure di durezza</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-b281c96ffc26bcac856eda7518bb18a3.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">1 - Misure di durezza</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Tommaso Stefani 
</div>
</div>
</div>

  <p class="date">2025-10-15</p>
</section>
<section>
<section id="descrizione-dellesperienza" class="title-slide slide level1 centered-slide center">
<h1>Descrizione dell’esperienza</h1>

</section>
<section id="descrizione-dellesperienza-1" class="slide level2">
<h2>Descrizione dell’esperienza</h2>
<p>L’attività si concentra sulla <strong>misurazione della durezza Vickers</strong> di materiali metallici utilizzando un durometro da laboratorio.</p>
<p>I dati raccolti saranno utilizzati per due tipi di analisi statistiche:</p>
<ul>
<li><strong>Test di Student accoppiato</strong>: per verificare l’impatto effettivo di un indentatore danneggiato su eventuali anomalie nelle misure.<br>
</li>
<li><strong>Taratura degli strumenti di misura</strong>: sviluppo del modello analitico che lega il valore di stima fornito dal durometro sulla base della sola profondità dell’impronta con la misura reale e relativa regressione.</li>
</ul>
<p>Il percorso prevede quindi la pianificazione delle misure, l’esecuzione in laboratorio e l’analisi statistica dei dati ottenuti.</p>
</section>
<section id="descrizione-dellesperienza-2" class="slide level2">
<h2>Descrizione dell’esperienza</h2>
<p>Gli <strong>obiettivi</strong> si possono riassumere quindi nei seguenti:</p>
<ul>
<li><p>Acquisire competenze nella <strong>misura della durezza dei materiali</strong>.</p></li>
<li><p><strong>Valutare la significatività statistica</strong> dell’impatto di un indentatore danneggiato sulle misure.</p></li>
<li><p><strong>Regredire una caratteristica di taratura</strong> che correli la stima fornita dal durometro sulla base della sola profondità di impronta con il valore reale di durezza.</p></li>
</ul>
</section></section>
<section>
<section id="richiami-teorici" class="title-slide slide level1 center">
<h1>Richiami teorici</h1>

</section>
<section id="durezza-dei-materiali" class="slide level2">
<h2>Durezza dei materiali</h2>
<div title="Definizione – Durezza">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Definizione – Durezza</strong></p>
</div>
<div class="callout-content">
<p>La <strong>durezza</strong> è la proprietà meccanica dei materiali che esprime la loro resistenza alla deformazione plastica locale, determinata mediante prove di penetrazione, graffiatura o abrasione.<br>
Essa rappresenta la capacità di un materiale ad opporsi alla formazione di impronte permanenti sotto l’azione di un corpo più duro.</p>
</div>
</div>
</div>
</div>
<ul>
<li><p>La durezza si valuta a partire dalla misura dell’impronta lasciata da un penetratore sul materiale, con metodi diversi a seconda del tipo di prova adottata.</p></li>
<li><p>Le misure di durezza sono relative e dipendono dal metodo e dalle condizioni di prova, perciò è essenziale indicare sempre la sigla della scala utilizzata (es. HV30).</p></li>
<li><p>La durezza è una grandezza empirica che dipende da molteplici fattori materiali e di prova, senza una propria unità di misura.</p></li>
</ul>
</section>
<section id="durezza-dei-materiali-1" class="slide level2">
<h2>Durezza dei materiali</h2>
<p>Alla luce di quanto detto è evidente come non esista un metodo generale di conversione tra le diverse scale di misura della durezza (corrispondenti ai diversi metodi di prova utilizzati) ma solo tentativi di raffronto sperimentali.</p>
<div style="text-align:center">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/confronto_scale.jpg" style="width:22.0%"></p>
<figcaption>Confronto tra scale di durezza diverse, Scienza ed ingegneria dei materiali, Callister &amp; Rethwisch, <em>IV edizione</em>, p.&nbsp;169</figcaption>
</figure>
</div>
</div>
</section>
<section id="durezza-dei-materiali-2" class="slide level2">
<h2>Durezza dei materiali</h2>
<p>Le <strong>prove di durezza</strong> sono molto utilizzate perché:</p>
<ol type="1">
<li>Sono <strong>semplici e poco costose</strong>: richiedono minima preparazione del campione e strumenti economici.</li>
<li>Sono quasi <strong>non distruttive</strong>: l’unico effetto sul campione è una piccola impronta.</li>
<li>Permettono di <strong>stimare altre proprietà meccaniche</strong>, come la resistenza a rottura (approssimativamente).</li>
</ol>
<p>Tra le scale di durezza più comuni vi sono: Mohs, Brinell, Rockwell e Vickers. In particolare, la scala Vickers è adottata nelle misure del presente esperimento.</p>
</section>
<section id="scala-mohs" class="slide level2">
<h2>Scala Mohs</h2>
<div title="Scala Mohs">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Scala Mohs</strong></p>
</div>
<div class="callout-content">
<p>La <strong>scala Mohs</strong> è un sistema ideato nel 1812 dal mineralogista tedesco <em>Friedrich Mohs</em> per classificare i materiali in base alla loro durezza, intesa come resistenza alla graffiatura. Si tratta di un metodo empirico e comparativo, che non fornisce un valore numerico assoluto, ma piuttosto consente di stabilire se un materiale è più o meno duro rispetto a un altro.</p>
</div>
</div>
</div>
</div>
<ul>
<li><p>La scala Mohs classifica la durezza su 10 livelli, da 1 (talco, il più tenero) a 10 (diamante, il più duro); ogni minerale può graffiare solo quelli con durezza inferiore al proprio livello.</p></li>
<li><p>La scala Mohs è ancora usata in geologia e mineralogia per identificazioni rapide, ma <strong>non è adatta per applicazioni tecniche o industriali</strong>, dove sono preferiti metodi che danno risultati quantitativi e ripetibili.</p></li>
</ul>
</section>
<section id="scala-rockwell" class="slide level2">
<h2>Scala Rockwell</h2>
<div title="Scala Rockwell">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Scala Rockwell</strong></p>
</div>
<div class="callout-content">
<p>La <strong>prova Rockwell</strong> è un metodo per misurare la durezza dei materiali basato sulla misura della profondità residua di penetrazione di un penetratore standardizzato, dopo l’applicazione sequenziale di un carico preliminare e uno principale, secondo procedure normalizzate.</p>
</div>
</div>
</div>
</div>
<p>La procedura prevede 3 fasi:</p>
<ul>
<li>preparazione dei campioni</li>
<li>Applicazione di un <strong>precarico</strong> per stabilizzare il contatto;</li>
<li>Applicazione e successiva rimozione del <strong>carico principale</strong>, dopo cui si misura la profondità <span class="math inline">\(h\)</span> dell’impronta residua.</li>
</ul>
</section>
<section id="scala-rockwell-1" class="slide level2">
<h2>Scala Rockwell</h2>
<p>Il valore di durezza Rockwell si calcola mediante la formula:</p>
<p><span class="math display">\[
HR = N - \frac{h}{s}
\]</span></p>
<p>dove:</p>
<ul>
<li><span class="math inline">\(HR\)</span> è il valore di durezza,</li>
<li><span class="math inline">\(h\)</span> è la profondità residua dell’impronta (mm),</li>
<li><span class="math inline">\(s = 0.002 \, \text{mm}\)</span> è il coefficiente di scala,</li>
<li><span class="math inline">\(N\)</span> è una costante che dipende dalla scala (es. <span class="math inline">\(N = 100\)</span> per la scala HRC).</li>
</ul>
</section>
<section id="scala-rockwell-2" class="slide level2">
<h2>Scala Rockwell</h2>
<p>Le diverse scale Rockwell si distinguono per:</p>
<ul>
<li>tipo di <strong>penetratore</strong> (cono in diamante o sfera di diverse dimensioni),</li>
<li><strong>carico appplicato</strong></li>
</ul>
<p>Per riportare il valore di durezza di un materiale si usa la seguente sigla: <span class="math display">\[
HRxx\ yy
\]</span></p>
<ul>
<li><span class="math inline">\(HR\)</span>: prova Rockwell<br>
</li>
<li><span class="math inline">\(xx\)</span>: scala utilizzata (per es. C)<br>
</li>
<li><span class="math inline">\(yy\)</span>: valore di durezza rilevato sulla scala C</li>
</ul>
</section>
<section id="scala-rockwell-3" class="slide level2">
<h2>Scala Rockwell</h2>
<ul>
<li><p>La prova Rockwell rappresenta un metodo molto semplice e molto utilizzato in quanto non richiede particolari conoscenze da parte dell’operatore. Questo perchè si basa su una misura determinata automaticamente dalla macchina (la profondità dell’impronta).</p></li>
<li><p>riferimento normativo: <strong>UNI EN ISO 6508-1:2016</strong></p></li>
</ul>
</section>
<section id="scala-brinell" class="slide level2">
<h2>Scala Brinell</h2>
<div title="Scala Brinell">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Scala Brinell</strong></p>
</div>
<div class="callout-content">
<p>La <strong>prova Brinell</strong> è un metodo che si basa sulla misura del diametro dell’impronta di penetrazione provocata da una <strong>sfera in acciaio o carburo di tungsteno</strong> sottoposta a un carico statico. È una prova robusta che può essere applicata ad un ampio intervallo di durezze.</p>
</div>
</div>
</div>
</div>
<p>Dopo l’applicazione del carico, si misura il <strong>diametro dell’impronta</strong> residua. La durezza Brinell si calcola mediante la formula:</p>
<p><span class="math display">\[
HBW = \frac{2P}{\pi D \left( D - \sqrt{D^2 - d^2} \right)}
\]</span></p>
<p>dove:</p>
<ul>
<li><span class="math inline">\(P\)</span>: carico applicato (kgf)</li>
<li><span class="math inline">\(D\)</span>: diametro della sfera (mm)</li>
<li><span class="math inline">\(d\)</span>: diametro medio dell’impronta (mm)</li>
</ul>
</section>
<section id="scala-brinell-1" class="slide level2">
<h2>Scala Brinell</h2>
<p>Per riportare il valore di durezza di un materiale si usa la seguente sigla:</p>
<p><span class="math display">\[
HBW\ xx/yy/zz
\]</span> dove:</p>
<ul>
<li><p><span class="math inline">\(HBW\)</span>: prova Brinell con sfera in carburo di tungsteno (HB se in acciaio)</p></li>
<li><p><span class="math inline">\(xx\)</span>: diametro della sfera (mm)<br>
</p></li>
<li><p><span class="math inline">\(yy\)</span>: carico applicato (kgf)</p></li>
<li><p><span class="math inline">\(zz\)</span>: tempo di applicazione del carico (s)</p></li>
<li><p>La prova Brinell si caratterizza per essere una prova robusta che può essere applicata ad un ampio intervallo di durezze.</p></li>
<li><p>riferimento normativo: <strong>UNI EN ISO 6506-1</strong></p></li>
</ul>
</section>
<section id="scala-vickers" class="slide level2">
<h2>Scala Vickers</h2>
<div title="Scala Vickers">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Scala Vickers</strong></p>
</div>
<div class="callout-content">
<p>La <strong>prova Vickers</strong> è un metodo di prova basato sulla misurazione delle dimensioni di un’impronta ottenuta tramite un penetratore piramidale in diamante. Durante la prova, si applica un carico statico definito, mantenuto per un determinato intervallo di tempo. Una volta rimosso il carico, si osserva l’impronta lasciata sulla superficie del campione.</p>
</div>
</div>
</div>
</div>
<p>La durezza Vickers si determina misurando le diagonali dell’impronta con un microscopio e calcolando il rapporto tra carico applicato e area dell’impronta secondo la seguente formula:</p>
<p><span class="math display">\[
HV = \frac{1.854 \cdot P}{d^2}
\]</span></p>
<p>dove:</p>
<ul>
<li><span class="math inline">\(P\)</span> è il carico applicato in kgf</li>
<li><span class="math inline">\(d\)</span> è la lunghezza media delle due diagonali dell’impronta, espressa in millimetri.</li>
</ul>
</section>
<section id="scala-vickers-1" class="slide level2">
<h2>Scala Vickers</h2>
<ul>
<li><p>Essendo una misura ottica, la prova Vickers richiede una preparazione accurata del campione con levigatura e lucidatura per garantire letture precise, ed è ideale per materiali metallici omogenei e microstrutture.</p></li>
<li><p>La scala Vickers utilizza un penetratore con geometria fissa, ma il valore HV dipende dal carico applicato; poiché impronta e risposta del materiale variano con la forza, i risultati con carichi diversi non sono sempre confrontabili, soprattutto su materiali eterogenei o trattati superficialmente.</p></li>
</ul>
</section>
<section id="scala-vickers-2" class="slide level2">
<h2>Scala Vickers</h2>
<p>Per riportare il valore di durezza di un materiale si usa la seguente sigla:</p>
<p><span class="math display">\[
HV xx/yy
\]</span></p>
<p>dove:</p>
<ul>
<li><span class="math inline">\(HV\)</span>: prova Vickers con penetratore a punta di diamante piramidale<br>
</li>
<li><span class="math inline">\(xx\)</span>: carico applicato in kgf<br>
</li>
<li><span class="math inline">\(yy\)</span>: tempo di applicazione del carico in secondi (opzionale, spesso non indicato)</li>
</ul>
<p>Tutti i dettagli tecnici, i criteri di esecuzione e le tolleranze della prova sono regolati dalla norma <strong>UNI EN ISO 6507-1</strong>, che rappresenta il riferimento principale per l’applicazione corretta del metodo Vickers.</p>
</section>
<section id="scala-vickers-3" class="slide level2">
<h2>Scala Vickers</h2>
<p>In figura le caratteristiche principali che caratterizzano le prove Brinell e Vickers.</p>
<div style="text-align:center">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/brinell_vickers.jpg" style="width:110.0%"></p>
<figcaption>Sistemi di prova per la durezza, Scienza ed ingegneria dei materiali, Callister &amp; Rethwisch, <i>IV edizione</i>, p.&nbsp;167</figcaption>
</figure>
</div>
</div>
</section>
<section id="t-test" class="slide level2">
<h2>T-test</h2>
<ul>
<li>Il T-test di Student è un test statistico che serve a confrontare le medie di due gruppi per capire se la differenza osservata sia dovuta al caso o a un effetto reale.</li>
</ul>
<p>Esistono diverse varianti del t-test:</p>
<ul>
<li>ad uno due lati</li>
<li>ad uno o due campioni</li>
<li>T-test accoppiato</li>
</ul>
<p>In questa attività si utilizza il <strong>test accoppiato</strong>.</p>
</section>
<section id="t-test-1" class="slide level2">
<h2>T-test</h2>
<p>Nel caso di test di Student a due campioni, quando essi <strong>hanno la stessa dimensione e sono raccolti due a due in condizioni molto simili</strong>, è opportuno accoppiarli e effettuare il <strong>test di Student accoppiato</strong>.</p>
<p>Ogni misura è esprimibile come: <span class="math display">\[
y_{ij}=\mu_i+\beta_j+\varepsilon_{ij};\hspace{9pt} \left\{ \begin{array}{l}i=1,2\\j=1,2,\dots ,n\end{array} \right.
\]</span> dove:</p>
<ul>
<li><span class="math inline">\(i\)</span> identifica il campione</li>
<li><span class="math inline">\(j\)</span> identifica la singola misura di un campione</li>
</ul>
</section>
<section id="t-test-2" class="slide level2">
<h2>T-test</h2>
<p>Se si definisce <span class="math inline">\(d_j=y_{1j} - y_{2j}\)</span>, ricordando le proprietà dell’operatore <span class="math inline">\(E(\cdot)\)</span>, risulta <span class="math inline">\(\mu_d = \mu_1 - \mu_2\)</span>. Quindi si può formulare la seguente coppia di ipotesi: <span class="math display">\[
\begin{eqnarray}
H_0 :~&amp; \mu_d = 0 \\
H_1 :~&amp; \mu_d \neq 0
\end{eqnarray}
\]</span> Il test accoppiato è quindi evidentemente un test a un campione, con il vantaggio che <strong>gli effetti casuali tra coppie di osservazioni non influiscono sul risultato del test</strong></p>
</section>
<section id="taratura" class="slide level2">
<h2>Taratura</h2>
<ul>
<li><p>Una misura è il risultato di una misurazione che descrive un parametro di un sistema in un certo stato.</p></li>
<li><p>Le misurazioni possono essere:</p>
<ul>
<li>dirette, se ottenute per confronto con un campione noto</li>
<li>indirette, se ricavate da grandezze correlate tramite un modello.</li>
</ul></li>
<li><p>Il modello è un insieme di relazioni tra parametri che descrive le interazioni nel sistema e rappresenta lo strumento di misura. Può essere analitico, numerico o empirico; quest’ultimo non include informazioni sulla fisica completa del sistema.</p></li>
<li><p>Nel caso di misurazioni indirette, lo strumento si basa su un trasduttore e richiede un modello che ne descriva il comportamento. Se il modello è statico, non considera il tempo; se dinamico, sì. La taratura è il processo di identificazione dei parametri del modello.</p></li>
</ul>
</section>
<section id="taratura-1" class="slide level2">
<h2>Taratura</h2>
<div title="Taratura">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Taratura</strong></p>
</div>
<div class="callout-content">
<p>La <strong>taratura</strong> punta a definire la correlazione <span class="math inline">\(y=f(m)\)</span> tra l’ingresso misurando <span class="math inline">\(m\)</span> e l’uscita del trasduttore <span class="math inline">\(y\)</span>, e la relativa incertezza. La <span class="math inline">\(f(\cdot)\)</span> è detta caratteristica statica dello strumento.</p>
</div>
</div>
</div>
</div>
<ul>
<li><p>Uno strumento fornisce la misura mediante inversione della caratteristica statica: <span class="math inline">\(m=f^{-1}(y)\)</span></p></li>
<li><p>Perché la <span class="math inline">\(f(\cdot)\)</span> sia nota è necessario identificarne i parametri mediante <strong>regressione</strong> che viene effettuata a partire da una serie di coppie <span class="math inline">\((m_i,y_i)\)</span> ottenute:</p>
<ul>
<li>da una serie di misurandi noti</li>
<li>da una serie di misurazioni ottenute con uno strumento di qualità migliore di quello in taratura (questo perchè l’incertezza sui parametri della regressione non dipende dall’incertezza su queste misurazioni ma sulla variabilità dei dati raccolti)</li>
</ul></li>
</ul>
</section>
<section id="taratura-2" class="slide level2">
<h2>Taratura</h2>
<p>La taratura statica si sviluppa quindi su quattro passaggi:</p>
<ol type="1">
<li>Sviluppo del modello dello strumento: analisi dei principi fisici per definire la caratteristica statica</li>
<li>Raccolta dei dati di taratura: campagna sperimentale per coppie <span class="math inline">\((m_i, y_i)\)</span> in ordine casuale</li>
<li>Regressione: identificazione dei parametri del modello</li>
<li>Validazione del modello: verifica adeguatezza mediante analisi dei residui</li>
</ol>
<p>La taratura deve anche definire l’incertezza dello strumento, dovuta al modello (la forma della caratteristica statica), ai parametri del modello e alla stima del misurando (dovuta a ingressi di disturbo).</p>
</section></section>
<section>
<section id="parte-sperimentale" class="title-slide slide level1 center">
<h1>Parte sperimentale</h1>

</section>
<section id="attrezzatura-necessaria" class="slide level2">
<h2>Attrezzatura necessaria</h2>
<ul>
<li>10 campioni di acciai ignoti (composizione non nota, trattamenti subiti non noti, ecc.)</li>
<li>Carte abrasive: Non sono prescritte grane specifiche nelle normative, ma si consiglia di utilizzare una sequenza di abrasivi da grana 120 a 1200 per garantire una superficie liscia e priva di difetti</li>
<li>detergente per superfici metalliche</li>
<li>panno in microfibra o tessuto morbido che non rilasci fibre</li>
<li>durometro per misurazione durezza VIckers</li>
<li>penetatore Vickers danneggiato</li>
<li>penetratore Vickers integro</li>
</ul>
</section>
<section id="fasi-da-seguire-in-laboratorio" class="slide level2">
<h2>Fasi da seguire in laboratorio</h2>
<div class="columns">
<div class="column">
<ul>
<li>Scelta di 10 campioni di acciai ignoti</li>
<li>Preparazione dei campioni:
<ul>
<li>I campioni devono essere accuratamente lucidati per ottenere una superficie liscia e priva di ossidazioni o impurità. Non sono prescritte grane specifiche nelle normative, ma si consiglia di utilizzare una sequenza di abrasivi da grana 120 a 1200. Se possibile lucidare a specchio.</li>
<li>Pulizia con panno morbido e detergente per metallo per rimuovere polveri o residui.</li>
</ul></li>
</ul>
</div><div class="column">
<div id="Preparazione_campioni" class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/preparazione_campioni.jpg" class="un" style="width:75.0%"></p>
<figcaption>Campione prima (in basso) e dopo preparazione superficiale</figcaption>
</figure>
</div>
</div></div>
</section>
<section id="fasi-da-seguire-in-laboratorio-1" class="slide level2">
<h2>Fasi da seguire in laboratorio</h2>
<div class="columns">
<div class="column">
<ul>
<li>Numerazione dei campioni: Indentificare i campioni numerandoli da 1 a 10</li>
<li>Montaggio indentatore Vickers danneggiato sulla macchina</li>
<li>Esecuzione delle prove previste dalla campagna di misure per l’indentatore danneggiato</li>
<li>Montaggio indentatore Vickers integro sulla macchina</li>
<li>Esecuzione delle prove previste dalla campagna di misure per l’indentatore integro</li>
</ul>
</div><div class="column">
<div id="Campioni" class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/campioni.jpg" style="width:75.0%"></p>
<figcaption>Campioni numerati</figcaption>
</figure>
</div>
</div></div>
</section>
<section id="misurazione" class="slide level2">
<h2>Misurazione</h2>
<div class="columns">
<div class="column">
<p>Per eseguire una misura di durezza:</p>
<ul>
<li>Poggiare il provino sul piano di supporto della macchina</li>
<li>Ruotare il volantino portando in adesione il provino con l’elemento di contatto del durometro</li>
</ul>
</div><div class="column">
<div id="provino" class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/contatto.jpg" style="width:50.0%"></p>
<figcaption>Provino a contatto</figcaption>
</figure>
</div>
</div></div>
</section>
<section id="misurazione-1" class="slide level2">
<h2>Misurazione</h2>
<div class="columns">
<div class="column">
<ul>
<li>Premere il tasto <span style="font-size:40%"><span class="math inline">\(\begin{array}{c}\downarrow \\ - \\ \uparrow\end{array}\)</span></span> che avvia il ciclo di misura</li>
<li>Attendere la fine della prova, quindi che compaia l’immagine dell imnpronta sullo schermo, annotare la stima fornita dalla macchina.</li>
<li>Azzerare la posizione del regolo portando a contatto i due corsoi del calibro, premere il tasto <span style="color:red;">f</span> (solo per prima misura dopo accensione)</li>
</ul>
</div><div class="column">
<div id="zeroregolo" class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/zeroregolo.jpg" style="width:50.0%"></p>
<figcaption>Azzeramento del regolo</figcaption>
</figure>
</div>
</div></div>
</section>
<section id="misurazione-2" class="slide level2">
<h2>Misurazione</h2>
<div class="columns">
<div class="column">
<ul>
<li>Allineare la linea presente su uno dei due corsoi con una delle diagonali dell’impronta, in modo da fissare l’orientamento corretto per la misurazione</li>
</ul>
</div><div class="column">
<div id="orientamento" class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/orientamento.jpg" style="width:50.0%"></p>
<figcaption>Orientamento regolo</figcaption>
</figure>
</div>
</div></div>
</section>
<section id="misurazione-3" class="slide level2">
<h2>Misurazione</h2>
<div class="columns">
<div class="column">
<ul>
<li>Mantendendo l’orientamento ottenuto al punto precedente regolare attraverso i due pomelli presenti sul calibro la posizione dei due corsoi, in modo che le linee presenti sugli stessi combacino con i vertici della diagonale opposta a quella usata da riferimento al punto precedente</li>
<li>Confermare con il tasto <span class="bred">f</span></li>
</ul>
</div><div class="column">
<div id="misura" class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/misura.jpg" style="width:50.0%"></p>
<figcaption>Misura della diagonale</figcaption>
</figure>
</div>
</div></div>
</section>
<section id="misurazione-4" class="slide level2">
<h2>Misurazione</h2>
<div class="columns">
<div class="column">
<ul>
<li>Ripetere i precedenti punti per l’altra diagonale</li>
<li>Annotare la misura che compare a display</li>
<li>Premere il tasto <span class="bred">f</span></li>
</ul>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Importante</strong></p>
</div>
<div class="callout-content">
<p>Per le misure che prevedono di usare due volte la stessa diagonale (quella chiaramente visibile dell’indentatore rotto) rilevare due volte la stessa diagonale.</p>
</div>
</div>
</div>
</div><div class="column">
<div id="Durometro" class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/durometro.jpg" style="width:50.0%"></p>
<figcaption>Durometro EMCO TEST M4U 02</figcaption>
</figure>
</div>
</div></div>
</section></section>
<section>
<section id="elaborazione-dei-dati" class="title-slide slide level1 center">
<h1>Elaborazione dei dati</h1>

</section>
<section id="confronto-tra-intentatore-integro-e-danneggiato" class="slide level2">
<h2>Confronto tra intentatore integro e danneggiato</h2>
<p>È necessario creare una tabella di raccolta dati, in colonna i valori delle misure e delle stime fornite dalla macchina per tutti i 10 provini usando</p>
<ul>
<li>indentatore integro (<code>HV30_OK</code> e <code>stima_OK</code>),</li>
<li>indentatore danneggiato (<code>HV30_NOK</code> e <code>stima_NOK</code>)</li>
<li>due volte la diagonale visibile dell’indentatore danneggiato (<code>HV30_dd</code> e <code>stima_dd</code>).</li>
</ul>
<p>Si utilizza sempre la scala HV30.</p>
</section>
<section id="confronto-tra-intentatore-integro-e-danneggiato-1" class="slide level2 smaller">
<h2>Confronto tra intentatore integro e danneggiato</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="caption-top">
<caption>Tabella di raccolta dati per T-test</caption>
<thead>
<tr class="header">
<th style="text-align: right;">material</th>
<th style="text-align: right;">stima_OK</th>
<th style="text-align: right;">HV30_NOK</th>
<th style="text-align: right;">HV30_OK</th>
<th style="text-align: right;">stima_NOK</th>
<th style="text-align: right;">HV30_dd</th>
<th style="text-align: right;">stima_dd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">591</td>
<td style="text-align: right;">676</td>
<td style="text-align: right;">662</td>
<td style="text-align: right;">620</td>
<td style="text-align: right;">648</td>
<td style="text-align: right;">612</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">205</td>
<td style="text-align: right;">259</td>
<td style="text-align: right;">242</td>
<td style="text-align: right;">212</td>
<td style="text-align: right;">256</td>
<td style="text-align: right;">219</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">209</td>
<td style="text-align: right;">259</td>
<td style="text-align: right;">262</td>
<td style="text-align: right;">217</td>
<td style="text-align: right;">253</td>
<td style="text-align: right;">218</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">262</td>
<td style="text-align: right;">306</td>
<td style="text-align: right;">302</td>
<td style="text-align: right;">307</td>
<td style="text-align: right;">297</td>
<td style="text-align: right;">297</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">318</td>
<td style="text-align: right;">352</td>
<td style="text-align: right;">330</td>
<td style="text-align: right;">339</td>
<td style="text-align: right;">351</td>
<td style="text-align: right;">337</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: right;">578</td>
<td style="text-align: right;">660</td>
<td style="text-align: right;">641</td>
<td style="text-align: right;">629</td>
<td style="text-align: right;">652</td>
<td style="text-align: right;">621</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: right;">206</td>
<td style="text-align: right;">244</td>
<td style="text-align: right;">244</td>
<td style="text-align: right;">216</td>
<td style="text-align: right;">247</td>
<td style="text-align: right;">218</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: right;">156</td>
<td style="text-align: right;">164</td>
<td style="text-align: right;">165</td>
<td style="text-align: right;">157</td>
<td style="text-align: right;">166</td>
<td style="text-align: right;">157</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: right;">624</td>
<td style="text-align: right;">659</td>
<td style="text-align: right;">668</td>
<td style="text-align: right;">622</td>
<td style="text-align: right;">659</td>
<td style="text-align: right;">618</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">581</td>
<td style="text-align: right;">625</td>
<td style="text-align: right;">651</td>
<td style="text-align: right;">596</td>
<td style="text-align: right;">635</td>
<td style="text-align: right;">596</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="confronto-tra-intentatore-integro-e-danneggiato-2" class="slide level2">
<h2>Confronto tra intentatore integro e danneggiato</h2>
<p>Si considerano dapprima i dati relativi alle misure raccolte utilizzando diagonali diverse (le prime 4 colonne della tabella).</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="001-durezza_files/figure-revealjs/unnamed-chunk-4-1.png" class="quarto-figure quarto-figure-center" style="width:16cm"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>Una volta importati i dati si possono confrontare tutti i dati:</p>
<ul>
<li>non si evidenzia alcuna differenza significativa in quanto la variabilità del materiale <strong>maschera</strong> le differenze tra i penetratori.</li>
</ul>
</div></div>
</section>
<section id="confronto-tra-intentatore-integro-e-danneggiato-3" class="slide level2">
<h2>Confronto tra intentatore integro e danneggiato</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="001-durezza_files/figure-revealjs/unnamed-chunk-5-1.png" class="quarto-figure quarto-figure-center" style="width:16cm"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>Si osserva la relazione tra stima e durezza, separatamente per penetratore:</p>
<ul>
<li>sembrano essere differenti sia l’intercetta che la pendenza.</li>
</ul>
</div></div>
</section>
<section id="confronto-tra-intentatore-integro-e-danneggiato-4" class="slide level2">
<h2>Confronto tra intentatore integro e danneggiato</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="001-durezza_files/figure-revealjs/unnamed-chunk-6-1.png" class="quarto-figure quarto-figure-center" style="width:16cm"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>Si osserva la relazione tra le misure fatte con indentatore rotto e indentatore integro:</p>
<ul>
<li>se non ci fosse differenza sarebbero allineate sulla retta diagonale con equazione <span class="math inline">\(y=x\)</span>:</li>
<li>i punti corrispondenti alla misura effettiva HV30 hanno una regressione che corrisponde alla diagonale</li>
</ul>
</div></div>
<ul>
<li>i punti corrispondenti alla stima fornita dalla macchina hanno una regressione che è al di sopra della diagonale e i punti sono consistentemente al di sopra di essa,</li>
<li>Quanto osservato sta a significare che la stima fornisce una durezza maggiore per l’indentatore rotto che per quello integro.</li>
</ul>
</section>
<section id="confronto-tra-intentatore-integro-e-danneggiato-5" class="slide level2">
<h2>Confronto tra intentatore integro e danneggiato</h2>
<p>Si effettuano i T-test per HV30 e per stima, si ottiene:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 8%">
<col style="width: 12%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 12%">
<col style="width: 13%">
<col style="width: 10%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">group</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">parameter</th>
<th style="text-align: right;">conf.low</th>
<th style="text-align: right;">conf.high</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: left;">significant</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">HV30</td>
<td style="text-align: right;">-3.7</td>
<td style="text-align: right;">-0.790</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">-14.300</td>
<td style="text-align: right;">6.900</td>
<td style="text-align: right;">0.45</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">stima</td>
<td style="text-align: right;">-18.5</td>
<td style="text-align: right;">-3.243</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">-31.404</td>
<td style="text-align: right;">-5.596</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: left;">TRUE</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="confronto-tra-intentatore-integro-e-danneggiato-6" class="slide level2">
<h2>Confronto tra intentatore integro e danneggiato</h2>
<p>Ciò che si evince è:</p>
<ul>
<li><p>Il danno al penetratore viene compensato dalla capacità dell’operatore di estrapolare dal contesto la posizione del vertice mancante nell’impronta. Questa compensazione è però soggettiva e dipende dall’esperienza e capacità dell’operatore.</p></li>
<li><p>Viceversa, la misura basata sulla penetrazione è completamente oggettiva e risente quindi della integrità del penetratore: tanto più la geometria reale si discosta dalla geometria nominale per la quale è nota la relazione tra altezza della piramide e area della base, tanto più la misura è errata.</p></li>
</ul>
</section>
<section id="confronto-tra-intentatore-integro-e-danneggiato-7" class="slide level2">
<h2>Confronto tra intentatore integro e danneggiato</h2>
<p>Si confrontano le misure ottenute con doppia diagonale e quelle con vertice estrapolato da un indentatore danneggiato per stabilire quale sia più affidabile: se il p-value del confronto con la doppia diagonale è maggiore di quello ottenuto dal confronto con quelle ottenute estrapolando la posizione, allora conviene usare due volte la stessa diagonale.</p>
<div class="smaller">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 10%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 16%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">parameter</th>
<th style="text-align: right;">conf.low</th>
<th style="text-align: right;">conf.high</th>
<th style="text-align: left;">method</th>
<th style="text-align: left;">alternative</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">0.0758987</td>
<td style="text-align: right;">0.9411601</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">-8.641484</td>
<td style="text-align: right;">9.241484</td>
<td style="text-align: left;">Paired t-test</td>
<td style="text-align: left;">two.sided</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<ul>
<li><p>Quindi, se si ha a disposizione solo l’indentatore danneggiato, è preferibile utilizzare due volte la stessa diagonale. Ovviamente, questa conclusione è valida solo per l’indentatore e per il campo di applicazione specifico considerato.</p></li>
<li><p>Si sottolinea che (non si è riportata l’analisi) è necessario verificare le ipotesi che stanno alla base del T test accoppiato</p></li>
</ul>
</section>
<section id="analisi-per-taratura" class="slide level2">
<h2>Analisi per taratura</h2>
<p>È necessario creare una tabella di raccolta dati. Si sceglie di indagare per 6 materiali differenti (rappresentanti 6 diverse durezze) la relazione tra stima e durezza effettiva per 5 scale differenti (HV5, HV10, HV20, HV30, HV50).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="caption-top">
<caption>Dati per analisi di taratura</caption>
<thead>
<tr class="header">
<th style="text-align: right;">StdOrder</th>
<th style="text-align: right;">RunOrder</th>
<th style="text-align: left;">Material</th>
<th style="text-align: left;">Scale</th>
<th style="text-align: right;">Load</th>
<th style="text-align: right;">Estimated</th>
<th style="text-align: right;">Hardness</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">HV5</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">692</td>
<td style="text-align: right;">709</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">HV10</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">690</td>
<td style="text-align: right;">709</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">22</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">HV20</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">516</td>
<td style="text-align: right;">668</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">HV30</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">634</td>
<td style="text-align: right;">680</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">HV50</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">630</td>
<td style="text-align: right;">656</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: right;">13</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">HV5</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">343</td>
<td style="text-align: right;">351</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="analisi-per-taratura-1" class="slide level2">
<h2>Analisi per taratura</h2>
<p>Si visualizzano le regressioni dei modelli lineari effettuati separatamente per ogni scala (Si correla duque solamente la stima alla durezza).</p>

<img data-src="001-durezza_files/figure-revealjs/unnamed-chunk-11-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:16cm"><p>Non tutte le bande di confidenza risultano sovrapposte, questo significa che la relazione tra durezza reale e stima dipende dalla scala scelta.</p>
</section>
<section id="analisi-per-taratura-2" class="slide level2">
<h2>Analisi per taratura</h2>
<p>Si effettua una ANOVA per verificare se la scala effettivamente sia un fattore che incide sul modello da regredire.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="caption-top">
<caption>Tabella ANOVA</caption>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">df</th>
<th style="text-align: right;">sumsq</th>
<th style="text-align: right;">meansq</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Hardness</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">898983.79</td>
<td style="text-align: right;">898983.788</td>
<td style="text-align: right;">808.119815</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Scale</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">34978.65</td>
<td style="text-align: right;">8744.662</td>
<td style="text-align: right;">7.860803</td>
<td style="text-align: right;">0.0003379</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Residuals</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">26698.53</td>
<td style="text-align: right;">1112.439</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="analisi-per-taratura-3" class="slide level2">
<h2>Analisi per taratura</h2>
<p>Al solito si verificano i residui del modello usato per l’analisi ANOVA. (assenza di pattern e normalità).</p>

<img data-src="001-durezza_files/figure-revealjs/unnamed-chunk-13-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:16cm"></section>
<section id="analisi-per-taratura-4" class="slide level2">
<h2>Analisi per taratura</h2>
<div class="cell" data-layout-align="center">

<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  .
W = 0.95796, p-value = 0.2744</code></pre>
</div>
</div>
<img data-src="001-durezza_files/figure-revealjs/unnamed-chunk-14-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:16cm"></section>
<section id="analisi-per-taratura-5" class="slide level2">
<h2>Analisi per taratura</h2>
<p>La anova appena condotta risulta quindi valida e suggerisce di effettuare una regressione distinta per ogni scala ricavando per ognuna il valore della pendenza:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="caption-top">
<caption>Pendenza della caratteristica lineare di ogni scala</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Scale</th>
<th style="text-align: right;">slope</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">HV5</td>
<td style="text-align: right;">0.9257687</td>
</tr>
<tr class="even">
<td style="text-align: left;">HV10</td>
<td style="text-align: right;">0.9385109</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HV20</td>
<td style="text-align: right;">0.7574335</td>
</tr>
<tr class="even">
<td style="text-align: left;">HV30</td>
<td style="text-align: right;">0.9235168</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HV50</td>
<td style="text-align: right;">1.0180241</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="analisi-per-taratura-6" class="slide level2">
<h2>Analisi per taratura</h2>
<p>Per ogni scala di durezza si riportano i valori della pendenza, i valori dell’intervallo di confidenza al 95% sul valore della pendenza e il range massimo dei residui (che risulta abbastanza importante).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">Scale</th>
<th style="text-align: right;">Slope</th>
<th style="text-align: right;">Residual_min</th>
<th style="text-align: right;">Residual_max</th>
<th style="text-align: right;">CI_low</th>
<th style="text-align: right;">CI_high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">HV5</td>
<td style="text-align: right;">0.9257687</td>
<td style="text-align: right;">-50.13676</td>
<td style="text-align: right;">35.62998</td>
<td style="text-align: right;">0.8430079</td>
<td style="text-align: right;">1.0085296</td>
</tr>
<tr class="even">
<td style="text-align: left;">HV10</td>
<td style="text-align: right;">0.9385109</td>
<td style="text-align: right;">-39.41411</td>
<td style="text-align: right;">24.59579</td>
<td style="text-align: right;">0.8853192</td>
<td style="text-align: right;">0.9917025</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HV20</td>
<td style="text-align: right;">0.7574335</td>
<td style="text-align: right;">-27.71986</td>
<td style="text-align: right;">13.79970</td>
<td style="text-align: right;">0.7188855</td>
<td style="text-align: right;">0.7959814</td>
</tr>
<tr class="even">
<td style="text-align: left;">HV30</td>
<td style="text-align: right;">0.9235168</td>
<td style="text-align: right;">-29.03789</td>
<td style="text-align: right;">25.48605</td>
<td style="text-align: right;">0.8772668</td>
<td style="text-align: right;">0.9697669</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HV50</td>
<td style="text-align: right;">1.0180241</td>
<td style="text-align: right;">-48.48800</td>
<td style="text-align: right;">41.69889</td>
<td style="text-align: right;">0.9165342</td>
<td style="text-align: right;">1.1195141</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="analisi-per-taratura-7" class="slide level2">
<h2>Analisi per taratura</h2>
<p>Va verificata come al solito l’assenza di pattern per i residui e la normalità degli stessi per il modello adottato.</p>

<img data-src="001-durezza_files/figure-revealjs/unnamed-chunk-18-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:16cm"></section>
<section id="analisi-per-taratura-8" class="slide level2">
<h2>Analisi per taratura</h2>

<img data-src="001-durezza_files/figure-revealjs/unnamed-chunk-19-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:16cm"></section>
<section id="analisi-per-taratura-9" class="slide level2">
<h2>Analisi per taratura</h2>

<img data-src="001-durezza_files/figure-revealjs/unnamed-chunk-20-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:16cm"></section>
<section id="analisi-per-taratura-10" class="slide level2">
<h2>Analisi per taratura</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="caption-top">
<caption>Valori del p_value e della statistica del test di shapiro (W) per ogni scala</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Scale</th>
<th style="text-align: right;">p_value</th>
<th style="text-align: right;">W</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">HV5</td>
<td style="text-align: right;">0.2344047</td>
<td style="text-align: right;">0.8720269</td>
</tr>
<tr class="even">
<td style="text-align: left;">HV10</td>
<td style="text-align: right;">0.9902723</td>
<td style="text-align: right;">0.9904627</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HV20</td>
<td style="text-align: right;">0.3559777</td>
<td style="text-align: right;">0.8969083</td>
</tr>
<tr class="even">
<td style="text-align: left;">HV30</td>
<td style="text-align: right;">0.9824913</td>
<td style="text-align: right;">0.9875917</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HV50</td>
<td style="text-align: right;">0.0764722</td>
<td style="text-align: right;">0.8128614</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="analisi-per-taratura-11" class="slide level2">
<h2>Analisi per taratura</h2>

<img data-src="001-durezza_files/figure-revealjs/unnamed-chunk-22-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:16cm"></section>
<section id="analisi-per-taratura-12" class="slide level2">
<h2>Analisi per taratura</h2>
<div title="Conclusione">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Conclusione</strong></p>
</div>
<div class="callout-content">
<p>Il modello risulta valido. Quindi per le varie scale si possono assumere i valori della pendenza (slope) contenuti in<code>df_slope</code>.</p>
</div>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="caption-top">
<caption>Pendenza della caratteristica lineare di ogni scala</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Scale</th>
<th style="text-align: right;">slope</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">HV5</td>
<td style="text-align: right;">0.9257687</td>
</tr>
<tr class="even">
<td style="text-align: left;">HV10</td>
<td style="text-align: right;">0.9385109</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HV20</td>
<td style="text-align: right;">0.7574335</td>
</tr>
<tr class="even">
<td style="text-align: left;">HV30</td>
<td style="text-align: right;">0.9235168</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HV50</td>
<td style="text-align: right;">1.0180241</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="analisi-per-taratura-13" class="slide level2">
<h2>Analisi per taratura</h2>
<p>Si graficano le varie caratteristiche con il loro intervallo di confidenza</p>



<img data-src="001-durezza_files/figure-revealjs/unnamed-chunk-24-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:16cm"></section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="https://keystoneacademic-res.cloudinary.com/image/upload/c_pad,w_640,h_304/dpr_auto/f_auto/q_auto/v1/element/14/147138_logoUnitrento_1000px.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="../../slides.html">Home</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': true,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,

        height: 720,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copiato!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copiato!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/mmt-unitn\.github\.io\/InDaLab");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
                // default icon
                link.classList.add("external");
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
            let selectedAnnoteEl;
            const selectorForAnnotation = ( cell, annotation) => {
              let cellAttr = 'data-code-cell="' + cell + '"';
              let lineAttr = 'data-code-annotation="' +  annotation + '"';
              const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
              return selector;
            }
            const selectCodeLines = (annoteEl) => {
              const doc = window.document;
              const targetCell = annoteEl.getAttribute("data-target-cell");
              const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
              const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
              const lines = annoteSpan.getAttribute("data-code-lines").split(",");
              const lineIds = lines.map((line) => {
                return targetCell + "-" + line;
              })
              let top = null;
              let height = null;
              let parent = null;
              if (lineIds.length > 0) {
                  //compute the position of the single el (top and bottom and make a div)
                  const el = window.document.getElementById(lineIds[0]);
                  top = el.offsetTop;
                  height = el.offsetHeight;
                  parent = el.parentElement.parentElement;
                if (lineIds.length > 1) {
                  const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
                  const bottom = lastEl.offsetTop + lastEl.offsetHeight;
                  height = bottom - top;
                }
                if (top !== null && height !== null && parent !== null) {
                  // cook up a div (if necessary) and position it 
                  let div = window.document.getElementById("code-annotation-line-highlight");
                  if (div === null) {
                    div = window.document.createElement("div");
                    div.setAttribute("id", "code-annotation-line-highlight");
                    div.style.position = 'absolute';
                    parent.appendChild(div);
                  }
                  div.style.top = top - 2 + "px";
                  div.style.height = height + 4 + "px";
                  div.style.left = 0;
                  let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
                  if (gutterDiv === null) {
                    gutterDiv = window.document.createElement("div");
                    gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                    gutterDiv.style.position = 'absolute';
                    const codeCell = window.document.getElementById(targetCell);
                    const gutter = codeCell.querySelector('.code-annotation-gutter');
                    gutter.appendChild(gutterDiv);
                  }
                  gutterDiv.style.top = top - 2 + "px";
                  gutterDiv.style.height = height + 4 + "px";
                }
                selectedAnnoteEl = annoteEl;
              }
            };
            const unselectCodeLines = () => {
              const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
              elementsIds.forEach((elId) => {
                const div = window.document.getElementById(elId);
                if (div) {
                  div.remove();
                }
              });
              selectedAnnoteEl = undefined;
            };
              // Handle positioning of the toggle
          window.addEventListener(
            "resize",
            throttle(() => {
              elRect = undefined;
              if (selectedAnnoteEl) {
                selectCodeLines(selectedAnnoteEl);
              }
            }, 10)
          );
          function throttle(fn, ms) {
          let throttle = false;
          let timer;
            return (...args) => {
              if(!throttle) { // first call gets through
                  fn.apply(this, args);
                  throttle = true;
              } else { // all the others get throttled
                  if(timer) clearTimeout(timer); // cancel #2
                  timer = setTimeout(() => {
                    fn.apply(this, args);
                    timer = throttle = false;
                  }, ms);
              }
            };
          }
            // Attach click handler to the DT
            const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
            for (const annoteDlNode of annoteDls) {
              annoteDlNode.addEventListener('click', (event) => {
                const clickedEl = event.target;
                if (clickedEl !== selectedAnnoteEl) {
                  unselectCodeLines();
                  const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
                  if (activeEl) {
                    activeEl.classList.remove('code-annotation-active');
                  }
                  selectCodeLines(clickedEl);
                  clickedEl.classList.add('code-annotation-active');
                } else {
                  // Unselect the line
                  unselectCodeLines();
                  clickedEl.classList.remove('code-annotation-active');
                }
              });
            }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>